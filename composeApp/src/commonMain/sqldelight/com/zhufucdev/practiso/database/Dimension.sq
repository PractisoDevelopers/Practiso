CREATE TABLE dimension(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL
);

CREATE TABLE quizByDimension(
    quizId INTEGER NOT NULL,
    dimensionId INTEGER NOT NULL,
    intensity REAL NOT NULL DEFAULT 1 CHECK (0 < intensity <= 1),
    PRIMARY KEY (quizId, dimensionId),
    FOREIGN KEY (quizId) REFERENCES quiz(id) ON DELETE CASCADE,
    FOREIGN KEY (dimensionId) REFERENCES dimension(id) ON DELETE CASCADE
);

getAllDimensions:
SELECT *
FROM dimension;

getRecentDimensions:
SELECT *
FROM dimension
ORDER BY id DESC
LIMIT ?;

getDimensionById:
SELECT *
FROM dimension
WHERE id = ?;

getDimensionByName:
SELECT *
FROM dimension
WHERE name = ?;

insertDimension:
INSERT INTO dimension(name)
VALUES (?);

updateDimensionName:
UPDATE dimension SET name = ? WHERE id = ?;

updateDimensionAssoicationIntensity:
UPDATE quizByDimension SET intensity = ? WHERE quizId = ? AND dimensionId = ?;

associateQuizWithDimension:
INSERT INTO quizByDimension(quizId, dimensionId, intensity)
VALUES (?, ?, ?);

dissoicateQuizFromDimension:
DELETE FROM quizByDimension WHERE quizId = ? AND dimensionId = ?;

removeDimension:
DELETE FROM dimension WHERE id = ?;
